# fk_api-
prototype api for football.kulichki 


---------------------------------Основное-----------------------
Программа представляет собой прототип API к сайту футбольной статистики "Футбол на Куличках". Можно динамически вытаскивать некоторые параметры по отдельным игрокам, клубам либо чемпионатам. Возможности могут быть расширены до любой полноты использования данных, включая работу с архивом.

Запуск программы через main.py

Должны быть установлены lxml, pandas, mathplotlib, bs4 (version 4.6), PyQt.
Создавалось в OS Ubuntu 16. В Windows не тестировалось.

Нужны все 7 файлов, т.е. пакет.



----------------------------------Дополнительно------------------------------
В графическом окне 4 вкладки:
Tab1 - анонс
Tab2 - гражданство всех игроков клуба, 
Tab3 - гражданство всех игроков чемпионата. 
Tab4 - выбор пяти игроков с наибольшим количеством игр\голов\наказаний

----- Рабочие файлы:
1. Main.py                 - основной файл
2. Teams.py                - примет имя команды по русски, вернёт *техническом* виде (для урла) 
3. Citizenship_team.py     - Citizenship_team(country, team) - вернёт гражданство игроков команды
4. Citizenship_country.py  - Citizenship_country(contry) - вернёт гражданство игроков страны
5. Switch_names.py         - переключит названия клубов с русского на английский
6. names.py                - списки стран в двух экземплярах
7. pandas1.py              - возвращает 5 лучших результатов из колонок Игры, Голы, Жёлтые карточки

-----   Некоторые особенности реализации:
1.    Выбирать из списков "технического" (т.е. вытащенного из url'ов) вида неудобно. Кроме того, в случае "Испании" и "Турции" вебмастер поленился и вместо названий клубов в url'ах поставил цифры. Кроме того, вместо страны usa стоит mls (название лиги). Поэтому во всех выпадающих списках стоят названия "пользовательского" вида. Для их перевода в "технический" вид, понятный для url, сделан файл Switch_names.py.
2.    Все данные создаются динамически, т.е. на лету. Единственные данные, 
"вшитые" в программу, это файл names.py - список стран в двух экземплярах - "техническом" и "пользовательском".  Можно было бы и его сделать как Switch_names, но это было бы немотивированное усложнение.
3.    При работе программы в той же папке создаётся много файлов .html
4.    В Tab2 для визуализации выбран pie diagramm, т.к. при большом разбросе данных (от 1 до 27) их сложно отобразить на другом виде графика. 
5.    Для стилевого оформления взят популярный darkorange.stylesheet (http://www.yasinuludag.com/darkorange.stylesheet)
      Но после этого выбранные пункты в ComboBox стали не видны
6.    На верхней панели нет функциональности (легко добавить при необходимости)

-----    Небольшие проблемы:
1.  Tab4: При выборе из 1го выпадающего списка в IDLE ошибка: urllib.error.HTTPError: HTTP     Error 403: Forbidden
    на работоспособность не влияет
3.  Нет тестов
4.  Иконка не отображается (только в верхней панели в Help/About), в Windows всё нормально
5.  Скорее всего, это вообще говнокод



